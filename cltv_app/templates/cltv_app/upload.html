{% extends 'cltv_app/base.html' %}
{% load static %}

{% block title %}Upload Customer Data{% endblock %}

{% load crispy_forms_tags %}

{% block content %}

<div class="container mx-auto py-12 px-4 text-gray-700 dark:text-gray-300">
    <h1 class="text-3xl font-extrabold text-orange-700 dark:text-orange-400 mb-4">Upload Customer Data</h1>
    <p class="text-lg mb-4">Please upload an XLSX file with the following columns:</p>
    <ul class="list-disc list-inside mb-6">
        <li><strong>order_id</strong>: Unique identifier for each order.</li>
        <li><strong>customer_id</strong>: Unique identifier for each customer.</li>
        <li><strong>order_date</strong>: Date when the order was placed (format: YYYY-MM-DD).</li>
        <li><strong>revenue</strong>: Revenue generated by the order.</li>
    </ul>
    <p class="text-lg mb-6">
        You can <a href="{% static 'sample_files/customer_data.xlsx' %}" class="text-orange-600 hover:text-orange-500" download>download a sample file here</a>.
    </p>
    <form method="post" enctype="multipart/form-data" class="bg-white dark:bg-gray-800 p-8 shadow-md rounded-lg">
        {% csrf_token %}
        {{ form|crispy }}
        <button type="submit" class="w-full bg-orange-500 text-white font-semibold py-3 px-4 rounded hover:bg-orange-600 transition duration-300 mt-4">
            Upload
        </button>
    </form>
    {% for message in messages %}
        {% if message.tags == "error" %}
            <div class="mt-4 p-4 rounded bg-red-100 text-red-700">
                {{ message }}
            </div>
        {% else %}
            <div class="mt-4 p-4 rounded bg-green-100 text-green-700">
                {{ message }}
            </div>
        {% endif %}
    {% endfor %}
</div>

{% endblock %}
