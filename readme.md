# Customer Lifetime Value (CLTV) Calculator

This project is a Django web application that calculates the Customer Lifetime Value (CLTV) based on an uploaded customer data file. The application also provides insightful recommendations based on the computed results to help businesses improve customer retention and maximize revenue.

## Features

- **Upload Customer Data**: Accepts XLSX files with customer order data.
- **Calculate CLTV**: Computes various metrics including CLTV, Average Customer Lifespan, Total Revenue, Number of Purchases, and more.
- **Generate Recommendations**: Provides actionable recommendations based on the computed data.
- **Visualize Data**: Displays revenue distribution across customer segments using graphs.
- **Downloadable Reports**: Allows users to download detailed reports of the insights.

## Getting Started

### Prerequisites

- Python 3.x
- Django 3.x or later
- pandas
- matplotlib
- openpyxl
- Bootstrap (for frontend styling)

### Installation

1. Clone the repository:

```sh
git clone https://github.com/fotoalin/cltv_project.git
cd cltv_project
```

2. Create a virtual environment and activate it:

```python
python -m venv venv
source venv/bin/activate  # On Windows use `venv\Scripts\activate`
```

3. Install the required packages:
```sh
pip install -r requirements.txt
```

4. Apply database migrations:
```sh
python manage.py migrate
```

5. Run the development server:
```sh
python manage.py runserver
```

### Usage

Open your web browser and navigate to http://127.0.0.1:8000/
Upload an XLSX file containing customer order data. The file should have the following columns:
- `order_id`: Unique identifier for each order.
- `customer_id`: Unique identifier for each customer.
- `order_date`: Date when the order was placed (format: YYYY-MM-DD HH:MM+/-TZ).
- `revenue`: Revenue generated by the order.

The application will process the file, calculate the CLTV, and display the results along with insights and recommendations.

You can download a detailed report by clicking the "Download Report" button.


Example Data Format
```sh
order_id,customer_id,order_date,revenue
1,123,2023-01-01 10:00:00 +0000,100
2,123,2023-01-02 11:00:00 +0000,150
3,124,2023-01-01 12:00:00 +0000,200
```


### Project Structure

  - `cltv_project/` Main project directory.
   - `cltv_app***/` Django app directory containing:
      - `models.py` Defines the database models.
      - `views.py` Contains the view functions.
      - `forms.py` Defines the form for file upload.
      - `templates/cltv_app/` HTML templates.
      - `static/` Static files (CSS, JS, images).
        - `sample_files/` sample data storage
          - `customer_data.xlsx` downloadable sample of required customer data columns
  - `upload` Uploaded customer data
  - `manage.py` Django management script.
  - `requirements.txt` List of required packages



### Contributing

Contributions are welcome! Please fork the repository and submit a pull request with your changes.

### License

This project is licensed under the MIT License. See the [LICENSE](https://github.com/username/repository/blob/main/LICENSE) file for details.

### Acknowledgements

- `Django`: for building the web application.
- `pandas`: for data analysis and manipulation.
- `numpy`: for numerical calculations.
- `matplotlib`: for creating charts and plots.
- `Bootstrap`: for UI styling anbd responsive design.
- `reportlab`: for generating downloadable PDF result.